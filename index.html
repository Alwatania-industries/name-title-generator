function generate() {
    const name = document.getElementById('name').value;
    const title = document.getElementById('title').value;
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');

    const img = new Image();
    img.src = "4f8abff9-0bf8-426f-ad87-f15e9d4f3190.png"; // اسم الصورة المرفوعة
    img.onload = () => {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);

        ctx.textAlign = "center";
        ctx.fillStyle = "#000";

        // نكتب عبارة Ramadan Mubarak أولًا
        ctx.font = "48px Arial";
        const ramadanY = 200; // ارتفاع العبارة من أعلى الكانفاس
        ctx.fillText("Ramadan Mubarak", canvas.width / 2, ramadanY);

        // نكتب الاسم تحتها بشوي
        ctx.font = "36px Arial";
        const nameY = ramadanY + 50; // 50px تحت العبارة
        ctx.fillText(name, canvas.width / 2, nameY);

        // نكتب المسمى الوظيفي تحت الاسم بشوي
        ctx.font = "30px Arial";
        const titleY = nameY + 40; // 40px تحت الاسم
        ctx.fillText(title, canvas.width / 2, titleY);

        // رابط تحميل الصورة
        document.getElementById("downloadLink").href = canvas.toDataURL("image/png");
    }
}
